{"version":3,"sources":["utils/colors.js","components/Header.js","utils/feathers.js","components/LoginForm.js","components/Login.js","components/triggersList.js","utils/validate.js","utils/scale-value.js","components/XYInput.js","components/Quiz.js","components/CalendarSidebar.js","components/Calendar.js","components/Nav.js","components/Dashboard.js","components/NewEntry.js","components/Visualize.js","components/AuthenticatedRoute.js","components/SignupForm.js","components/Signup.js","components/UnauthenticatedRoute.js","components/App.js","index.js"],"names":["colors","Header","className","css","client","feathers","restClient","rest","configure","fetch","window","authentication","storage","localStorage","LoginForm","props","useState","usernameInput","setUsernameInput","passwordInput","setPasswordInput","errorMessage","setErrorMessage","htmlFor","type","id","name","value","onChange","e","target","onClick","preventDefault","username","password","console","log","authenticate","strategy","catch","error","message","login","to","undefined","Login","setLogin","TriggersList","triggersList","map","trigger","index","key","removeTrigger","validate","values","errors","happy","push","calm","scaleValue","from","scale","Math","min","max","XYInput","canvas","useRef","ctx","placeCircle","x","y","current","beginPath","arc","PI","stroke","drawText","font","fillText","height","width","save","translate","rotate","restore","useEffect","document","getElementById","getContext","clearRect","mousePosition","mouseIsDown","getMousePos","evt","rect","getBoundingClientRect","clientX","left","clientY","top","addEventListener","setHappySlider","setCalmSlider","initialHappy","initialCalm","circleX","circleY","style","border","Quiz","setHappy","setCalm","triggerInput","setTriggerInput","setTriggersList","sleep","setSleep","notes","setNotes","setErrors","happySlider","calmSlider","resetFields","selectedEntry","form","formItem","formInput","formInput__withBtn","val","filter","currentTrigger","concat","addTrigger","cx","clearOnSubmit","submit","handleDelete","R","i","CalendarSidebar","closeButtonContainer","closeButton","setShowEntry","data","entryId","_id","isEmpty","service","patch","remove","setSelectedEntry","getCalendarEntries","localizer","momentLocalizer","moment","CalendarContainer","authenticatedUser","useContext","LoginContext","calendarEntries","setCalendarEntries","showEntry","calendarModal","calendarWrapper","calendar","useCallback","a","userID","user","find","query","$limit","userId","$select","calendarEntryData","formattedEntries","entry","calendarEntry","selectedEntryData","handleSelectEvent","getSelectedEntry","events","startAccessor","Date","start","allDayAccessor","views","onSelectEvent","event","popup","navBar","navItem","navButton","navItem__unselected","navItem__selected","Nav","location","useLocation","pathname","logout","then","navigate","Dashboard","NewEntry","create","graphContainer","Visualize","graphData","setGraphData","timeFrame","getGraphData","$sort","createdAt","rawGraphData","happyData","item","label","date","split","calmData","graph","length","VegaLite","spec","description","config","legend","labelFontSize","titleFontSize","axis","mark","point","encoding","title","field","as","aggregate","color","AuthenticatedRoute","noThrow","path","SignupForm","signup","Signup","UnauthenticatedRoute","createContext","App","injectGlobal","emotionNormalize","on","Provider","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.70672db5.chunk.js","sourcesContent":["export const colors = {\n  light: \"#FBFBDA\",\n  dark: \"#33312F\",\n  accent: \"#DB5A42\",\n  black: \"#000000\",\n};\n","import React from \"react\";\nimport { css } from \"emotion\";\nimport { colors } from \"../utils/colors\";\nexport default function Header() {\n  return (\n    <header\n      className={css`\n        border-bottom: 8px solid ${colors.dark};\n      `}\n    >\n      <h1\n        className={css`\n          color: ${colors.dark};\n          margin-bottom: 0.1em;\n          font-size: 5em;\n          margin-top: 0.5rem;\n        `}\n      >\n        Temper\n      </h1>\n    </header>\n  );\n}\n","import feathers from \"@feathersjs/client\";\n\nconst client = feathers();\n// const restClient = feathers.rest(\"http://localhost:3030\");\nconst restClient = feathers.rest(\n  \"https://intense-wildwood-87360.herokuapp.com\"\n);\nclient.configure(restClient.fetch(window.fetch));\nclient.configure(\n  feathers.authentication({\n    storage: window.localStorage,\n  })\n);\n\nexport default client;\n","import React, { useState } from \"react\";\nimport client from \"../utils/feathers\";\nimport { css } from \"emotion\";\nimport { colors } from \"../utils/colors\";\nimport { Link } from \"@reach/router\";\n\nfunction LoginForm(props) {\n  const [usernameInput, setUsernameInput] = useState(\"\");\n  const [passwordInput, setPasswordInput] = useState(\"\");\n  const [errorMessage, setErrorMessage] = useState();\n\n  function login(e) {\n    e.preventDefault();\n    const { username, password } = {\n      username: usernameInput,\n      password: passwordInput,\n    };\n\n    console.log(username);\n    console.log(password);\n\n    return client\n      .authenticate({\n        strategy: \"local\",\n        username,\n        password,\n      })\n\n      .catch((error) => setErrorMessage(error.message));\n  }\n\n  return (\n    <>\n      <form\n        className={css`\n          label {\n            font-size: 2em;\n          }\n          input {\n            display: block;\n            width: 100%;\n            height: 2em;\n            background-color: ${colors.light} !important;\n            margin: 1em 0;\n          }\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          margin: auto;\n        `}\n      >\n        <div\n          className={css`\n            min-width: 40%;\n            margin-top: 3em;\n          `}\n        >\n          <label htmlFor=\"username\">Username</label>\n          <input\n            type=\"text\"\n            id=\"username\"\n            name=\"username\"\n            value={usernameInput}\n            onChange={(e) => setUsernameInput(e.target.value)}\n          />\n          <label htmlFor=\"password\">Password</label>\n          <input\n            type=\"password\"\n            id=\"password\"\n            name=\"password\"\n            value={passwordInput}\n            onChange={(e) => setPasswordInput(e.target.value)}\n          />\n          <div\n            className={css`\n              text-align: center;\n            `}\n          >\n            <button onClick={(e) => login(e)}>Log In</button>\n            <span>\n              or <Link to=\"/sign-up\">Sign Up</Link>\n            </span>\n          </div>\n          {errorMessage === undefined ? null : <p>{errorMessage}</p>}\n        </div>\n      </form>\n    </>\n  );\n}\n\nexport default LoginForm;\n","import React from \"react\";\nimport Header from \"./Header\";\nimport LoginForm from \"./LoginForm\";\n\nexport default function Login(props) {\n  return (\n    <>\n      <Header />\n      <LoginForm setLogin={props.setLogin} />\n    </>\n  );\n}\n","import React from \"react\";\n\nfunction TriggersList(props) {\n  return (\n    <div>\n      {props.triggersList.map((trigger, index) => {\n        return (\n          <span key={index}>\n            {trigger}\n            <button onClick={(e) => props.removeTrigger(e, trigger)}>X</button>\n          </span>\n        );\n      })}\n    </div>\n  );\n}\n\nexport default TriggersList;\n","export default function validate(values) {\n  let errors = [];\n  if (!values.happy) {\n    errors.push(\"add a value for happy\");\n  }\n  if (!values.calm) {\n    errors.push(\"add a value for calm\");\n  }\n  return errors;\n}\n","export default function scaleValue(value, from, to) {\n  var scale = (to[1] - to[0]) / (from[1] - from[0]);\n  var capped = Math.min(from[1], Math.max(from[0], value)) - from[0];\n  return ~~(capped * scale + to[0]);\n}\n\n// export default function scaleValue(value, r1, r2) {\n//   return ((value - r1[0]) * (r2[1] - r2[0])) / (r1[1] - r1[0]) + r2[0];\n// }\n\n// const scaleValue = (value, x1, y1, x2, y2) =>\n//   ((value - x1) * (y2 - x2)) / (y1 - x1) + x2;\n\n// export default scaleValue;\n","import React, { useEffect, useRef } from \"react\";\nimport scaleValue from \"../utils/scale-value\";\n\nexport default function XYInput(props) {\n  let canvas = useRef();\n  let ctx = useRef();\n\n  useEffect(() => {\n    canvas.current = document.getElementById(\"canvas\");\n    ctx.current = canvas.current.getContext(\"2d\");\n    ctx.current.clearRect(0, 0, canvas.current.width, canvas.current.height);\n\n    drawText();\n\n    let mouseIsDown = false;\n    let mousePosition;\n    canvas.current.addEventListener(\"mousedown\", (e) => {\n      mouseIsDown = true;\n      mousePosition = getMousePos(canvas, e);\n\n      ctx.current.clearRect(0, 0, canvas.current.width, canvas.current.height);\n      drawText();\n      placeCircle(mousePosition.x, mousePosition.y);\n    });\n    canvas.current.addEventListener(\"mousemove\", (e) => {\n      if (mouseIsDown === true) {\n        mousePosition = getMousePos(canvas, e);\n        ctx.current.clearRect(\n          0,\n          0,\n          canvas.current.width,\n          canvas.current.height\n        );\n        drawText();\n        placeCircle(mousePosition.x, mousePosition.y);\n      }\n    });\n\n    document.addEventListener(\"mouseup\", (e) => {\n      if (mouseIsDown) {\n        mouseIsDown = false;\n        props.setHappySlider(\n          scaleValue(mousePosition.x, [0, canvas.current.width], [0, 100]),\n          \"happy\"\n        );\n        props.setCalmSlider(\n          scaleValue(mousePosition.y, [0, canvas.current.height], [100, 0]),\n          \"calm\"\n        );\n      }\n    });\n\n    function getMousePos(canvas, evt) {\n      var rect = canvas.current.getBoundingClientRect();\n      return {\n        x: evt.clientX - rect.left,\n        y: evt.clientY - rect.top,\n      };\n    }\n  }, [props]);\n\n  useEffect(() => {\n    if (props.initialHappy && props.initialCalm) {\n      const circleX = scaleValue(\n        props.initialHappy,\n        [0, 100],\n        [0, canvas.current.width]\n      );\n      const circleY = scaleValue(\n        props.initialCalm,\n        [0, 100],\n        [canvas.current.height, 0]\n      );\n      console.log(circleX + \", \" + circleY);\n      ctx.current.clearRect(0, 0, canvas.current.width, canvas.current.height);\n      drawText();\n      placeCircle(circleX, circleY);\n    }\n  }, [props.initialHappy, props.initialCalm]);\n\n  function placeCircle(x, y) {\n    ctx.current.beginPath();\n    ctx.current.arc(x, y, 5, 0, 2 * Math.PI);\n    ctx.current.stroke();\n  }\n\n  function drawText() {\n    ctx.current.font = \"15px Arial\";\n    ctx.current.fillText(\"Sad\", 15, canvas.current.height - 5);\n    ctx.current.fillText(\n      \"Happy\",\n      canvas.current.width - 50,\n      canvas.current.height - 5\n    );\n\n    ctx.current.save();\n    ctx.current.translate(12, canvas.current.height - 20);\n    ctx.current.rotate(-0.5 * Math.PI);\n\n    ctx.current.fillText(\"Anxious\", 0, 0);\n    ctx.current.fillText(\"Calm\", canvas.current.height - 65, 0);\n    ctx.current.restore();\n  }\n\n  return (\n    <canvas\n      id=\"canvas\"\n      style={{ border: \"1px solid black\" }}\n      height=\"300\"\n      width=\"300\"\n    ></canvas>\n  );\n}\n","import React, { useState, useEffect, useRef } from \"react\";\nimport * as R from \"ramda\";\nimport TriggersList from \"./triggersList\";\nimport validate from \"../utils/validate\";\nimport XYInput from \"./XYInput\";\nimport { css, cx } from \"emotion\";\n\nfunction Quiz(props) {\n  const [happy, setHappy] = useState();\n  const [calm, setCalm] = useState();\n  const [triggerInput, setTriggerInput] = useState(\"\");\n  const [triggersList, setTriggersList] = useState([]);\n  const [sleep, setSleep] = useState();\n  const [notes, setNotes] = useState();\n\n  const [errors, setErrors] = useState([]);\n\n  //Sets up event listeners\n  let happySlider = useRef();\n  let calmSlider = useRef();\n  let canvas = useRef();\n  let ctx = useRef();\n\n  useEffect(() => {\n    happySlider.current = document.getElementById(\"happy\");\n    calmSlider.current = document.getElementById(\"calm\");\n    canvas.current = document.getElementById(\"canvas\");\n    ctx.current = canvas.current.getContext(\"2d\");\n  }, []);\n\n  //Pre populates data if passed a selected entry\n  useEffect(() => {\n    const selectedEntry = props.selectedEntry;\n\n    if (selectedEntry) {\n      setHappy(selectedEntry.happy);\n      setCalm(selectedEntry.calm);\n      setTriggersList(selectedEntry.triggersList);\n      setSleep(selectedEntry.sleep);\n      setNotes(selectedEntry.notes);\n    }\n  }, [props]);\n\n  function setHappySlider(val) {\n    happySlider.current.value = val;\n    setHappy(val);\n  }\n\n  function setCalmSlider(val) {\n    calmSlider.current.value = val;\n    setCalm(val);\n  }\n\n  function addTrigger(e) {\n    e.preventDefault();\n    setTriggersList(triggersList.concat(triggerInput));\n    setTriggerInput(\"\");\n  }\n\n  function removeTrigger(e, trigger) {\n    e.preventDefault();\n    setTriggersList(\n      triggersList.filter((currentTrigger) => {\n        return currentTrigger !== trigger;\n      })\n    );\n  }\n  function resetFields() {\n    setHappy(\"\");\n    setCalm(\"\");\n    setTriggersList([]);\n    setSleep(\"\");\n    setNotes(\"\");\n    setErrors(\"\");\n  }\n\n  const form = css`\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    font-size: 1em;\n  `;\n\n  const formItem = css`\n    margin-top: 1em;\n  `;\n\n  const formInput = css`\n    display: block;\n    margin: auto;\n    &--withBtn {\n      text-align: center;\n    }\n  `;\n  const formInput__withBtn = formInput + \"--withBtn\";\n\n  return (\n    <form className={form}>\n      <XYInput\n        setHappySlider={setHappySlider}\n        setCalmSlider={setCalmSlider}\n        initialHappy={happy}\n        initialCalm={calm}\n      />\n      <div className={formItem}>\n        <label htmlFor=\"\">Sad</label>\n        <input\n          id=\"happy\"\n          name=\"happy\"\n          type=\"range\"\n          min=\"0\"\n          max=\"100\"\n          value={happy || \"\"}\n          onChange={(e) => setHappy(e.target.value)}\n        />\n        <label htmlFor=\"happy\">Happy</label>\n      </div>\n      <div className={formItem}>\n        <label htmlFor=\"\">Anxious</label>\n        <input\n          id=\"calm\"\n          name=\"calm\"\n          type=\"range\"\n          min=\"0\"\n          max=\"100\"\n          value={calm || \"\"}\n          onChange={(e) => setCalm(e.target.value)}\n        />\n        <label htmlFor=\"calm\">Calm</label>\n      </div>\n      <div className={formItem}>\n        <label htmlFor=\"sleep\">How many hours did you sleep last night?</label>\n        <input\n          className={formInput}\n          type=\"number\"\n          name=\"sleep\"\n          value={sleep}\n          onChange={(e) => setSleep(e.target.value)}\n        />\n      </div>\n      <div className={formItem}>\n        <label htmlFor=\"triggers\">Has anything triggered how you feel?</label>\n        <TriggersList\n          triggersList={triggersList}\n          removeTrigger={removeTrigger}\n        />\n        <div className={formInput__withBtn}>\n          <input\n            id=\"triggers\"\n            value={triggerInput}\n            onChange={(e) => setTriggerInput(e.target.value)}\n          />\n          <button onClick={(e) => addTrigger(e)}>Add</button>\n        </div>\n      </div>\n      <div\n        className={cx(\n          formItem,\n          css`\n            text-align: center;\n          `\n        )}\n      >\n        <label htmlFor=\"notes\">Notes</label>\n        <textarea\n          className={formInput}\n          value={notes}\n          onChange={(e) => setNotes(e.target.value)}\n          name=\"notes\"\n        ></textarea>\n      </div>\n      <div>\n        <button\n          onClick={(e) => {\n            e.preventDefault();\n            if (props.clearOnSubmit) {\n              resetFields();\n            }\n            props.submit(\n              { happy, calm, sleep, triggersList, notes },\n              validate,\n              setErrors\n            );\n          }}\n        >\n          Submit\n        </button>\n        {props.handleDelete ? (\n          <button\n            onClick={(e) => {\n              e.preventDefault();\n              props.handleDelete();\n              resetFields();\n            }}\n          >\n            Delete\n          </button>\n        ) : null}\n      </div>\n      {R.isEmpty(errors)\n        ? null\n        : errors.map((error, i) => <p key={i}>{error}</p>)}\n    </form>\n  );\n}\n\nexport default Quiz;\n","import React from \"react\";\nimport Quiz from \"./Quiz\";\nimport { isEmpty } from \"ramda\";\nimport client from \"../utils/feathers\";\nimport { css } from \"emotion\";\nexport default function CalendarSidebar(props) {\n  const closeButtonContainer = css`\n    text-align: right;\n    width: 80%;\n  `;\n  const closeButton = css`\n    padding: 0.5em;\n  `;\n\n  function submit(data, validate, setErrors) {\n    const errors = validate(data);\n    const entryId = props.selectedEntry._id;\n\n    if (isEmpty(errors)) {\n      console.log(data);\n      client\n        .service(\"log\")\n        .patch(entryId, data)\n        .catch((error) => setErrors(error.message));\n      props.setShowEntry(false);\n    } else {\n      setErrors(errors);\n    }\n  }\n\n  function handleDelete() {\n    client.service(\"log\").remove(props.selectedEntry._id);\n    props.setSelectedEntry(undefined);\n    props.getCalendarEntries();\n    props.setShowEntry(false);\n  }\n\n  return (\n    <>\n      <div className={closeButtonContainer}>\n        <button\n          className={closeButton}\n          onClick={() => props.setShowEntry(false)}\n        >\n          X\n        </button>\n      </div>\n      <Quiz\n        selectedEntry={props.selectedEntry}\n        submit={submit}\n        handleDelete={handleDelete}\n      />\n    </>\n  );\n}\n","import React, { useCallback } from \"react\";\nimport { useEffect, useContext, useState } from \"react\";\nimport { LoginContext } from \"./App\";\nimport { Calendar, momentLocalizer } from \"react-big-calendar\";\nimport moment from \"moment\";\nimport client from \"../utils/feathers\";\nimport \"../../node_modules/react-big-calendar/lib/css/react-big-calendar.css\";\nimport CalendarSidebar from \"./CalendarSidebar\";\nimport { css } from \"emotion\";\n\nconst localizer = momentLocalizer(moment);\n\nexport default function CalendarContainer(props) {\n  const authenticatedUser = useContext(LoginContext);\n  const [calendarEntries, setCalendarEntries] = useState([]);\n  const [selectedEntry, setSelectedEntry] = useState(undefined);\n  const [showEntry, setShowEntry] = useState(false);\n\n  const calendarModal = css`\n    position: absolute;\n    top: 0;\n    margin: auto;\n    width: 100%;\n  `;\n  const calendarWrapper = css`\n    position: relative;\n  `;\n  const calendar = css`\n    opacity: ${showEntry === false ? \"100%\" : \"20%\"};\n  `;\n\n  //gets calendar entries and saves them to state\n  const getCalendarEntries = useCallback(async () => {\n    const userID = authenticatedUser.login.user._id;\n    const log = client.service(\"log\");\n    console.log(userID);\n\n    const calendarEntryData = await log.find({\n      query: {\n        $limit: 100,\n        userId: userID,\n\n        $select: [\"calendarEntry\", \"_id\"],\n      },\n    });\n    console.log(calendarEntryData);\n    const formattedEntries = calendarEntryData.data.map((entry) => {\n      return { ...entry.calendarEntry, id: entry._id };\n    });\n\n    setCalendarEntries(formattedEntries);\n  }, [setCalendarEntries, authenticatedUser.login.user._id]);\n\n  //gets calendar entries on component mount\n  useEffect(() => {\n    getCalendarEntries();\n  }, [getCalendarEntries]);\n\n  async function getSelectedEntry(id) {\n    const log = client.service(\"log\");\n    const selectedEntryData = await log.find({ query: { _id: id } });\n    setSelectedEntry(selectedEntryData.data[0]);\n  }\n\n  function handleSelectEvent(id) {\n    getSelectedEntry(id);\n    setShowEntry(true);\n  }\n\n  return (\n    <div className={calendarWrapper}>\n      <Calendar\n        localizer={localizer}\n        events={calendarEntries}\n        startAccessor={(e) => new Date(e.start)}\n        allDayAccessor=\"allDay\"\n        views={[\"month\"]}\n        style={{ height: 500 }}\n        onSelectEvent={(event) => handleSelectEvent(event.id)}\n        popup={true}\n        className={calendar}\n      />\n\n      {showEntry && (\n        <div className={calendarModal}>\n          <CalendarSidebar\n            setShowEntry={setShowEntry}\n            selectedEntry={selectedEntry}\n            setSelectedEntry={setSelectedEntry}\n            getCalendarEntries={getCalendarEntries}\n          />\n        </div>\n      )}\n    </div>\n  );\n}\n","import React from \"react\";\nimport { Link, useLocation, navigate } from \"@reach/router\";\nimport client from \"../utils/feathers\";\nimport { css, cx } from \"emotion\";\nimport { colors } from \"../utils/colors\";\n\nconst navBar = css`\n  ul {\n    padding: 0;\n  }\n  div {\n    display: inline-block;\n    width: 50%;\n  }\n  div:nth-of-type(2) {\n    text-align: right;\n  }\n`;\n\nconst navItem = css`\n  &--unselected,\n  &--selected {\n    display: inline-block;\n    a {\n      font-size: 1.5em;\n      text-decoration: none;\n      margin-right: 1em;\n    }\n    a:hover {\n      text-decoration: underline;\n    }\n  }\n  &--unselected {\n    a {\n      color: black;\n    }\n  }\n  &--selected {\n    a {\n      color: ${colors.accent};\n    }\n  }\n`;\nconst navButton = css`\n  display: inline-block;\n  border: none;\n  padding: 0;\n  margin: 0;\n  text-decoration: none;\n  background-color: inherit;\n  font-size: 1.5em;\n  :hover {\n    text-decoration: underline;\n  }\n`;\nconst navItem__unselected = navItem + \"--unselected\";\n\nconst navItem__selected = navItem + \"--selected\";\n\nexport default function Nav(props) {\n  function logout() {\n    client.logout().then(navigate(\"/login\"));\n  }\n  const location = useLocation();\n\n  return (\n    <nav className={navBar}>\n      <ul>\n        <div>\n          <li\n            className={\n              location.pathname === \"/new-entry\"\n                ? navItem__selected\n                : navItem__unselected\n            }\n          >\n            <Link to=\"/new-entry\">New Entry</Link>\n          </li>\n          <li\n            className={\n              location.pathname === \"/dashboard\"\n                ? navItem__selected\n                : navItem__unselected\n            }\n          >\n            <Link to=\"/dashboard\">Dashboard</Link>\n          </li>\n          <li\n            className={\n              location.pathname === \"/visualize\"\n                ? navItem__selected\n                : navItem__unselected\n            }\n          >\n            <Link to=\"/visualize\">Visualize</Link>\n          </li>\n        </div>\n        <div>\n          <li className={navItem__unselected}>\n            <button className={navButton} onClick={logout}>\n              Log Out\n            </button>\n          </li>\n        </div>\n      </ul>\n    </nav>\n  );\n}\n","import React from \"react\";\nimport CalenderContainer from \"./Calendar\";\nimport Header from \"./Header\";\nimport Nav from \"./Nav\";\n\nexport default function Dashboard() {\n  return (\n    <>\n      <Header />\n      <Nav />\n      <CalenderContainer />\n    </>\n  );\n}\n","import React from \"react\";\nimport Quiz from \"./Quiz\";\nimport { isEmpty } from \"ramda\";\nimport client from \"../utils/feathers\";\nimport Header from \"./Header\";\nimport Nav from \"./Nav\";\nimport { navigate } from \"@reach/router\";\n\nexport default function NewEntry() {\n  function submit(data, validate, setErrors) {\n    const errors = validate(data);\n\n    if (isEmpty(errors)) {\n      console.log(data);\n      client\n        .service(\"log\")\n        .create(data)\n        .catch((error) => setErrors(error.message));\n      navigate(\"/dashboard\");\n    } else {\n      setErrors(errors);\n    }\n  }\n\n  return (\n    <>\n      <Header />\n      <Nav />\n      <Quiz submit={submit} clearOnSubmit={true} />;\n    </>\n  );\n}\n","import React, { useEffect, useCallback, useContext, useState } from \"react\";\nimport Header from \"./Header\";\nimport Nav from \"./Nav\";\nimport { VegaLite } from \"react-vega\";\nimport client from \"../utils/feathers\";\nimport { LoginContext } from \"./App\";\nimport { css } from \"emotion\";\n\nconst graphContainer = css`\n  width: 100%;\n  height: 20rem;\n  margin-top: 4rem;\n`;\n\nexport default function Visualize() {\n  const [graphData, setGraphData] = useState();\n  const authenticatedUser = useContext(LoginContext);\n  const [timeFrame, setTimeFrame] = useState(\"month\");\n\n  const vegaSpec = {\n    width: \"container\",\n    height: 400,\n    description: \"Mood over time\",\n\n    config: {\n      legend: {\n        labelFontSize: 20,\n        titleFontSize: 20,\n      },\n      axis: {\n        labelFontSize: 10,\n        titleFontSize: 20,\n      },\n    },\n\n    mark: {\n      type: \"line\",\n      point: true,\n    },\n\n    encoding: {\n      x: { title: \"Date\", field: \"date\", type: \"temporal\", as: \"month\" },\n      y: {\n        aggregate: \"mean\",\n        field: \"val\",\n        type: \"quantitative\",\n        title: \"Mood\",\n      },\n      color: { field: \"label\", type: \"nominal\", title: \"\" },\n    },\n    data: { name: \"graph\" },\n  };\n\n  const getGraphData = useCallback(async () => {\n    const userID = authenticatedUser.login.user._id;\n    const log = client.service(\"log\");\n    console.log(userID);\n\n    const rawGraphData = await log.find({\n      query: {\n        $limit: 100,\n        $sort: {\n          createdAt: -1,\n        },\n        userId: userID,\n        $select: [\"happy\", \"calm\", \"createdAt\"],\n      },\n    });\n    console.log(rawGraphData);\n\n    const happyData = rawGraphData.data.map((item) => {\n      return {\n        label: \"Happy\",\n        val: item.happy,\n        date: item.createdAt.split(\"T\")[0],\n      };\n    });\n\n    const calmData = rawGraphData.data.map((item) => {\n      return {\n        label: \"Calm\",\n        val: item.calm,\n        date: item.createdAt.split(\"T\")[0],\n      };\n    });\n    setGraphData({ graph: [...happyData, ...calmData] });\n  }, [authenticatedUser.login.user._id]);\n\n  useEffect(() => {\n    getGraphData(timeFrame);\n  }, [getGraphData, timeFrame]);\n\n  return (\n    <>\n      <Header />\n      <Nav />\n      {graphData && graphData.graph.length === 0 ? (\n        <div\n          className={css`\n            text-align: center;\n            font-size: 2em;\n            margin-top: 4em;\n          `}\n        >\n          <p>There are no entries to show.</p>\n        </div>\n      ) : (\n        <div className={graphContainer}>\n          {graphData ? (\n            <VegaLite\n              spec={vegaSpec}\n              data={graphData}\n              style={{ width: \"100%\" }}\n            />\n          ) : null}\n        </div>\n      )}\n    </>\n  );\n}\n","import React from \"react\";\nimport { Redirect, Router } from \"@reach/router\";\nimport Dashboard from \"./Dashboard\";\nimport NewEntry from \"./NewEntry\";\nimport Visualize from \"./Visualize\";\nexport default function AuthenticatedRoute() {\n  return (\n    <>\n      <Router>\n        <Redirect from=\"/login\" to=\"/\" noThrow />\n        <Redirect from=\"/\" to=\"new-entry\" noThrow />\n        <NewEntry path=\"new-entry\" />\n        <Dashboard path=\"dashboard\" />\n        <Visualize path=\"visualize\" />\n      </Router>\n    </>\n  );\n}\n","import React, { useState } from \"react\";\nimport client from \"../utils/feathers\";\nimport { css } from \"emotion\";\nimport { colors } from \"../utils/colors\";\nimport { Link } from \"@reach/router\";\n\nfunction SignupForm(props) {\n  const [usernameInput, setUsernameInput] = useState(\"\");\n  const [passwordInput, setPasswordInput] = useState(\"\");\n  const [errorMessage, setErrorMessage] = useState();\n\n  function signup(e) {\n    e.preventDefault();\n    const { username, password } = {\n      username: usernameInput,\n      password: passwordInput,\n    };\n\n    console.log(username);\n    console.log(password);\n\n    return client\n      .service(\"users\")\n      .create({ username, password })\n      .catch((error) => setErrorMessage(error.message));\n  }\n\n  return (\n    <>\n      <form\n        className={css`\n          label {\n            font-size: 2em;\n          }\n          input {\n            display: block;\n            width: 100%;\n            height: 2em;\n            background-color: ${colors.light} !important;\n            margin: 1em 0;\n          }\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          margin: auto;\n          margin-top: 2em;\n        `}\n      >\n        <div\n          className={css`\n            min-width: 40%;\n            margin-top: 1em;\n          `}\n        >\n          <label htmlFor=\"username\">Username</label>\n          <input\n            type=\"text\"\n            id=\"username\"\n            name=\"username\"\n            value={usernameInput}\n            onChange={(e) => setUsernameInput(e.target.value)}\n          />\n          <label htmlFor=\"password\">Password</label>\n          <input\n            type=\"password\"\n            id=\"password\"\n            name=\"password\"\n            value={passwordInput}\n            onChange={(e) => setPasswordInput(e.target.value)}\n          />\n\n          <div\n            className={css`\n              text-align: center;\n            `}\n          >\n            <p>Choose a username and password</p>\n            <button onClick={(e) => signup(e)}>Signup </button>{\" \"}\n            <span>\n              back to <Link to=\"/login\">login</Link>\n            </span>\n          </div>\n          {errorMessage === undefined ? null : <p>{errorMessage}</p>}\n        </div>\n      </form>\n    </>\n  );\n}\n\nexport default SignupForm;\n","import React from \"react\";\nimport Header from \"./Header\";\nimport SignupForm from \"./SignupForm\";\n\nexport default function Signup(props) {\n  return (\n    <>\n      <Header />\n      <SignupForm />\n    </>\n  );\n}\n","import React from \"react\";\nimport { Router, Redirect } from \"@reach/router\";\nimport Login from \"./Login\";\nimport Signup from \"./Signup\";\n\nexport default function UnauthenticatedRoute(props) {\n  return (\n    <>\n      <Router>\n        <Redirect from=\"new-entry\" to=\"/\" noThrow />\n        <Redirect from=\"/\" to=\"login\" noThrow />\n        <Login setLogin={props.setLogin} path=\"login\" />\n        <Signup path=\"sign-up\" />\n      </Router>\n    </>\n  );\n}\n","import React, { useEffect, useState, createContext } from \"react\";\nimport { injectGlobal } from \"emotion\";\nimport emotionNormalize from \"emotion-normalize\";\nimport Login from \"./Login\";\nimport client from \"../utils/feathers\";\nimport AuthenticatedRoute from \"./AuthenticatedRoute\";\nimport UnauthenticatedRoute from \"./UnauthenticatedRoute\";\nimport { colors } from \"../utils/colors\";\n\nexport const LoginContext = createContext({});\n\nfunction App() {\n  //Injects global styles into app\n  injectGlobal`\n  ${emotionNormalize}\n  html {\n    box-sizing: border-box;\n  }\n  *, *:before, *:after {\n    box-sizing: inherit;\n  }\n\n    body {\n      max-width: 960px;\n      margin: auto;\n      font-family: 'Comfortaa', sans-serif;\n      background-color: ${colors.light}\n    }\n  \n  `;\n\n  const [login, setLogin] = useState();\n\n  useEffect(() => {\n    // Try to authenticate with the JWT stored in localStorage\n    client.authenticate().catch(() => setLogin(null));\n\n    // On successfull login\n    client.on(\"authenticated\", (login) => {\n      setLogin({ login });\n    });\n  }, []);\n  client.on(\"logout\", () => {\n    setLogin(null);\n  });\n\n  return login == null ? (\n    <UnauthenticatedRoute setLogin={setLogin} />\n  ) : (\n    <LoginContext.Provider value={login}>\n      <AuthenticatedRoute />\n    </LoginContext.Provider>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}